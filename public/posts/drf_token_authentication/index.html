<!doctype html>
<html lang="en-us">
  <head>
    <title>Django Rest Framework: Token Authentication // AgilePhD</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.128.2">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Dr. James Davis" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/css/main.min.562871a81790ee61fbc41ddb89eacf3bc0967ee9bde46cf8764c66fe91f0e6fc.css" />
    

    
  


    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Django Rest Framework: Token Authentication">
  <meta name="twitter:description" content="A version of the code for this iteration of Tweeter can be viewed on GitHub.
Django REST Framework comes with several built-in authentication solutions. Most APIs will use one of these authentication types:
BasicAuthentication: each request is authenticated with a username and password. Basic authentication is inefficient and generally not used with production APIs. TokenAuthentication: users are assigned a complex token that is added to the header of each request.">

    <meta property="og:url" content="http://blog.agilephd.com/posts/drf_token_authentication/">
  <meta property="og:site_name" content="AgilePhD">
  <meta property="og:title" content="Django Rest Framework: Token Authentication">
  <meta property="og:description" content="A version of the code for this iteration of Tweeter can be viewed on GitHub.
Django REST Framework comes with several built-in authentication solutions. Most APIs will use one of these authentication types:
BasicAuthentication: each request is authenticated with a username and password. Basic authentication is inefficient and generally not used with production APIs. TokenAuthentication: users are assigned a complex token that is added to the header of each request.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-01-23T00:00:00+00:00">
    <meta property="article:modified_time" content="2020-01-23T00:00:00+00:00">
    <meta property="article:tag" content="Django">
    <meta property="article:tag" content="Python">


  </head>
  <body>
    <header class="app-header">
      <a href="http://blog.agilephd.com/"><img class="app-header-avatar" src="/tank1.jpg" alt="Dr. James Davis" /></a>
      <span class="app-header-title">AgilePhD</span>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/">Home</a>
             - 
          
          <a class="app-header-menu-item" href="/tags/">Tags</a>
             - 
          
          <a class="app-header-menu-item" href="/about/">About</a>
      </nav>
      <p>Dr. James Davis: data scientist, girl dad, combat veteran, and can&#39;t shutup about Blockchain.</p>
      <div class="app-header-social">
        
          <a href="https://github.com/cavalryjim" target="_blank" rel="noreferrer noopener me">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>Github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg>
          </a>
        
          <a href="https://www.linkedin.com/in/jdavisphd/" target="_blank" rel="noreferrer noopener me">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-linkedin">
  <title>LinkedIn</title>
  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>
</svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Django Rest Framework: Token Authentication</h1>
      <div class="post-meta">
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Jan 23, 2020
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          4 min read
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>
</svg>
              <a class="tag" href="http://blog.agilephd.com/tags/django/">Django</a>
              <a class="tag" href="http://blog.agilephd.com/tags/python/">Python</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <p><img src="../../token.jpg" alt="token"></p>
<p>A version of the code for this iteration of Tweeter can be viewed on <a href="https://github.com/cavalryjim/tweeter_v6">GitHub</a>.</p>
<p>Django REST Framework comes with several built-in authentication solutions.  Most APIs will use one of these authentication types:</p>
<ul>
<li>BasicAuthentication: each request is authenticated with a username and password. Basic authentication is inefficient and generally not used with production APIs.</li>
<li>TokenAuthentication: users are assigned a complex token that is added to the header of each request. Token authentication is appropriate for client-server setups, such as native desktop and mobile clients.</li>
<li>SessionAuthentication: uses Django&rsquo;s default session backend for authentication. Appropriate for AJAX clients running in the same session as your web app.</li>
</ul>
<p>For our tweeter app, we will use <em>TokenAuthentication</em>.  This method is appropriate for most API authentication scenarios and is relatively easy to implement.</p>
<h3 id="json-web-tokens">JSON Web Tokens</h3>
<p>JSON Web Tokens (JWTs) are an enhanced standard for creating JSON-based access tokens.  JWTs add the ability to add token expiration and can be generated through services such as Auth0.  You can also encrypt JWTs for use over unsecured connections.  JWTs are a nice, modern addition though they require additional configuration for use with the Django REST Framework.</p>
<h3 id="change-drf-default-authentication">Change DRF Default Authentication</h3>
<p>By default, DRF uses BasicAuthentication and SessionAuthentication.  As mentioned above we are going to use TokenAuthentication but we are also going to leave the SessionAuthentication because the Browsable API uses it.</p>
<p>To change the defaults, we need to update <em>tweeter_app/settings.py</em>.  This chapter will modify <em>tweeter_app/settings.py</em> several times.  While you may be tempted to make all of the changes at once, the order that certain changes are conducted matters because several of the configuration updates requires migrating the database.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># settings.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>INSTALLED_APPS <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.admin&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.auth&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.contenttypes&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.sessions&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.messages&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.staticfiles&#39;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;rest_framework&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;rest_framework.authtoken&#39;</span>, <span style="color:#75715e"># new</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;bootstrap4&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;bootstrap_datepicker_plus&#39;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;users&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;tweets&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;api&#39;</span>,
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span></code></pre></div><p>Adding <code>rest_framework.authtoken</code> requires updating the database so let&rsquo;s run a migration.</p>
<pre tabindex="0"><code>(tweeter_app) $ python manage.py makemigrations
(tweeter_app) $ python manage.py migrate
</code></pre><p>Update <code>tweeter_app/settings.py</code> again to explicitly designate <code>TokenAuthentication</code> and <code>SessionAuthentication</code> as the two methods of authenticating our API users.  <code>TokenAuthentication</code> for the API and <code>SessionAuthentication</code> for the Browsable API interface.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># settings.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>REST_FRAMEWORK <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;DEFAULT_PERMISSION_CLASSES&#39;</span>: [
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># &#39;rest_framework.permissions.AllowAny&#39;,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;rest_framework.permissions.IsAuthenticatedOrReadOnly&#39;</span>,
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;DEFAULT_AUTHENTICATION_CLASSES&#39;</span>: [ <span style="color:#75715e"># new</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;rest_framework.authentication.TokenAuthentication&#39;</span>, <span style="color:#75715e"># new</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;rest_framework.authentication.SessionAuthentication&#39;</span>, <span style="color:#75715e"># new</span>
</span></span><span style="display:flex;"><span>],
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span></code></pre></div><h3 id="django-rest-auth">Django Rest Auth</h3>
<p>Django Rest Auth providers a set of REST API endpoints to handle certain User Registration and Authentication tasks such as login, logout, password reset and confirmation.  You can find more about it here: <a href="https://django-rest-auth.readthedocs.io/en/latest/">https://django-rest-auth.readthedocs.io/</a></p>
<p>Install via pipenv.</p>
<pre tabindex="0"><code>(tweeter_app) $ pipenv install django-rest-auth
</code></pre><p>Update our <code>tweeter_app/settings.py</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># settings.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>INSTALLED_APPS <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.admin&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.auth&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.contenttypes&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.sessions&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.messages&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.staticfiles&#39;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;rest_framework&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;rest_framework.authtoken&#39;</span>, <span style="color:#75715e"># new</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;rest_auth&#39;</span>, <span style="color:#75715e"># new</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;bootstrap4&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;bootstrap_datepicker_plus&#39;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;users&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;tweets&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;api&#39;</span>,
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span></code></pre></div><p>Add the endpoints to <code>tweeter_app/urls.py</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># tweeter_app/urls.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.contrib <span style="color:#f92672">import</span> admin
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.urls <span style="color:#f92672">import</span> path, include
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>urlpatterns <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;admin/&#39;</span>, admin<span style="color:#f92672">.</span>site<span style="color:#f92672">.</span>urls),
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;&#39;</span>, include(<span style="color:#e6db74">&#39;tweets.urls&#39;</span>)),
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;users/&#39;</span>, include(<span style="color:#e6db74">&#39;users.urls&#39;</span>)),
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;api/v1/&#39;</span>, include(<span style="color:#e6db74">&#39;api.urls&#39;</span>)),
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;api-auth/&#39;</span>, include(<span style="color:#e6db74">&#39;rest_framework.urls&#39;</span>)),
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;api/v1/rest-auth/&#39;</span>, include(<span style="color:#e6db74">&#39;rest_auth.urls&#39;</span>)), <span style="color:#75715e"># new</span>
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><p>Update the database via migrations.</p>
<pre tabindex="0"><code>(tweeter_app) $ python manage.py makemigrations
(tweeter_app) $ python manage.py migrate
(tweeter_app) $ python manage.py runserver
</code></pre><p>You should now be able to run your development server and view the endpoints.</p>
<p><a href="http://localhost:8000/api/v1/rest-auth/login/">http://localhost:8000/api/v1/rest-auth/login/</a></p>
<p><a href="http://localhost:8000/api/v1/rest-auth/logout/">http://localhost:8000/api/v1/rest-auth/logout/</a></p>
<p><a href="http://localhost:8000/api/v1/rest-auth/password/reset">http://localhost:8000/api/v1/rest-auth/password/reset</a></p>
<p><a href="http://localhost:8000/api/v1/rest-auth/password/reset/confirm">http://localhost:8000/api/v1/rest-auth/password/reset/confirm</a></p>
<h3 id="django-allauth">Django Allauth</h3>
<p>Allauth is an integrated set of Django applications addressing authentication, registration, account management as well as 3rd party (social) account authentication.  You can find more about <a href="https://django-allauth.readthedocs.io/en/latest/">Allauth here</a>.</p>
<p>Install via pipenv.</p>
<pre tabindex="0"><code>(tweeter_app) $ pipenv install django-allauth
</code></pre><p>Once again, update <code>tweeter_app/settings.py</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># settings.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>INSTALLED_APPS <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.admin&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.auth&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.contenttypes&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.sessions&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.messages&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.staticfiles&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.sites&#39;</span>, <span style="color:#75715e"># new</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;rest_framework&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;rest_framework.authtoken&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;allauth&#39;</span>, <span style="color:#75715e"># new</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;allauth.account&#39;</span>, <span style="color:#75715e"># new</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;allauth.socialaccount&#39;</span>, <span style="color:#75715e"># new</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;rest_auth&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;rest_auth.registration&#39;</span>, <span style="color:#75715e"># new</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;bootstrap4&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;bootstrap_datepicker_plus&#39;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;users&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;tweets&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;api&#39;</span>,
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>SITE_ID <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#75715e"># new</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span></code></pre></div><p>Django comes with the ability to host multiple website from a single project. Since Allauth uses the “sites” framework, we need to specify a default website.  Of course, we only have one so just set the <code>SITE_ID = 1</code>.</p>
<p>Migrate the database.</p>
<pre tabindex="0"><code>(tweeter_app) $ python manage.py migrate
</code></pre><p>Update <code>tweeter_app/urls.py</code> to add the new endpoints.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># tweeter_app/urls.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.contrib <span style="color:#f92672">import</span> admin
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.urls <span style="color:#f92672">import</span> path, include
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>urlpatterns <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;admin/&#39;</span>, admin<span style="color:#f92672">.</span>site<span style="color:#f92672">.</span>urls),
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;&#39;</span>, include(<span style="color:#e6db74">&#39;tweets.urls&#39;</span>)),
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;users/&#39;</span>, include(<span style="color:#e6db74">&#39;users.urls&#39;</span>)),
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;api/v1/&#39;</span>, include(<span style="color:#e6db74">&#39;api.urls&#39;</span>)),
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;api-auth/&#39;</span>, include(<span style="color:#e6db74">&#39;rest_framework.urls&#39;</span>)),
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;api/v1/rest-auth/&#39;</span>, include(<span style="color:#e6db74">&#39;rest_auth.urls&#39;</span>)), <span style="color:#75715e"># new</span>
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;api/v1/rest-auth/registration/&#39;</span>, include(<span style="color:#e6db74">&#39;rest_auth.registration.urls&#39;</span>)), <span style="color:#75715e">#new</span>
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><p>Run the development server.</p>
<pre tabindex="0"><code>(tweeter_app) $ python manage.py runserver
</code></pre><p>You can see your user registration endpoint here
<a href="http://localhost:8000/api/v1/rest-auth/registration/">http://localhost:8000/api/v1/rest-auth/registration/</a>.</p>
<p>Try adding a new user.  If everything is working correctly, it should return a user token to you.  The client (mobile app, PWA, etc) would then include this token with all communications to identify this user.</p>
<p><img src="../../registration_token.png" alt="registration token"></p>

    </div>
    
    <div class="post-footer">
      
    </div>

    <h4>Comments:</h4>
    <div id="cusdis_thread" data-host="https://cusdis.com"
      data-app-id="00693eb6-18f3-4176-b3ba-cf9245891bce"
      data-page-id="b1857b7e734e63fcd4dd57acb2c2eaa2" 
      data-page-url="http://blog.agilephd.com/posts/drf_token_authentication/"
      data-page-title="Django Rest Framework: Token Authentication"
      data-theme="auto">
    </div>
    <script async defer unsafe-eval src="https://cusdis.com/js/cusdis.es.js"></script>
  
  </article>

    </main>
  </body>
</html>
